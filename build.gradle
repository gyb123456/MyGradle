/*
 * This build file was generated by the Gradle 'init' task.
 *
 * user guide available at https://docs.gradle.org/3.3/userguide/tutorial_java_projects.html
 */

apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'com.bmuschko.tomcat'

sourceCompatibility = 1.8
version = '1.0'

//解决编码GBK的不可映射字符
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

repositories {
	maven{ url "http://repo.spring.io/release"}
    jcenter()
}

dependencies {
	def tomcatVersion = '8.0.42'
	tomcat "org.apache.tomcat.embed:tomcat-embed-core:${tomcatVersion}",
           "org.apache.tomcat.embed:tomcat-embed-logging-juli:${tomcatVersion}",
           "org.apache.tomcat.embed:tomcat-embed-jasper:${tomcatVersion}"
}

dependencies {
    compile 'org.springframework:spring-context:4.3.8.RELEASE',
    		'org.springframework:spring-web:4.3.8.RELEASE',
    		'org.springframework:spring-webmvc:4.3.8.RELEASE',
    		'org.springframework:spring-orm:4.3.8.RELEASE',
    		
    		'org.hibernate:hibernate-core:4.3.11.Final',
    		
    		'com.mchange:c3p0:0.9.5.2',
    		
    		'mysql:mysql-connector-java:6.0.6',
    		
    		'com.jcraft:jsch:0.1.46',
    		
    		//jackson包
    		'com.fasterxml.jackson.core:jackson-databind:2.6.1'
    		'com.fasterxml.jackson.core:jackson-annotations:2.6.1'
 			'com.fasterxml.jackson.core:jackson-core:2.6.1'
    		
	providedCompile 'javax.servlet:javax.servlet-api:3.1.0'
    testCompile 'junit:junit:4.12',
    			'org.springframework:spring-test:4.3.8.RELEASE'
}

buildscript {
	repositories {
	    jcenter()
	}
	dependencies{
		classpath 'com.bmuschko:gradle-tomcat-plugin:2.2.5'
	}
}

test{
	testLogging{
		showStandardStreams = true
		events 'started', 'passed', 'skipped', 'failed'
	}
}